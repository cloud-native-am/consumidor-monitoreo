spring.application.name=consumidor-monitoreo

spring.config.import=optional:file:.env[.properties]
server.port=${API_PORT}

# ── Kafka ──────────────────────────────────────────────────────────────────────
# Para pruebas locales (fuera de Docker)
spring.kafka.bootstrap-servers=localhost:29092,localhost:39092,localhost:49092

# Para produccion (dentro de Docker) - descomentar antes de dockerizar
#spring.kafka.bootstrap-servers=kafka-1:9092,kafka-2:9092,kafka-3:9092

spring.kafka.consumer.group-id=grupo-monitoreo
spring.kafka.consumer.auto-offset-reset=earliest
spring.kafka.consumer.key-deserializer=org.apache.kafka.common.serialization.StringDeserializer
spring.kafka.consumer.value-deserializer=org.apache.kafka.common.serialization.StringDeserializer

# Ignorar campos desconocidos al deserializar JSON
spring.jackson.deserialization.fail-on-unknown-properties=false
# Preservar precision de decimales al deserializar (evita perdida de precision en BigDecimal)
spring.jackson.deserialization.use-big-decimal-for-floats=true

# ── Oracle ─────────────────────────────────────────────────────────────────────
spring.datasource.driver-class-name=oracle.jdbc.OracleDriver
spring.datasource.url=jdbc:oracle:thin:@${CONNECTION_ALIAS}?TNS_ADMIN=${WALLET_PATH}
spring.datasource.username=${ORACLE_USERNAME}
spring.datasource.password=${ORACLE_PASSWORD}
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.OracleDialect
spring.jpa.hibernate.ddl-auto=update
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.connection-timeout=30000
##spring.sql.init.mode=always
